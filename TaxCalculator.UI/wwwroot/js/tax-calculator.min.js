function TaxDTO(n,t){return{annualIncome:n,postalCodeId:t}}var Tax=window.Tax||{};Tax.Calculator=Tax.Calculator||{};Tax.Calculator.Form=function(){function n(){var n=this;n.onLoad=!1;n.annualIncome=null;n.postalCodes=null}const t="https://localhost:5001";n.prototype.Init=function(){var n=this;Tax.Calculator.Services.Get(`${t}/api/tax/getpostalcodes`,$.proxy(n.Load,this))};n.prototype.Load=function(n){var t=this,i;n!=null&&(i=n,t.onLoad=!0,t.annualIncome=$("#annualIncomeInpt"),t.postalCodes=$("#postalCodeDrpdown"),$.each(i,function(n,i){t.postalCodes.append($("<option><\/option>").val(i.id).html(i.name))}))};var i={errorElement:"span",errorPlacement:function(n,t){n.addClass("invalid-feedback");t.closest(".form-group").append(n)},highlight:function(n){$(n).addClass("is-invalid")},unhighlight:function(n){$(n).removeClass("is-invalid")},onfocusout:function(n){$(n).valid()}};return $.validator.setDefaults(i),$("#taxForm").validate({rules:{annualIncomeInpt:{required:!0,digits:!0}},messages:{annualIncomeInpt:{required:"Please enter your annual income",digits:"Only digits is allowed"}},submitHandler:function(){$("input[type=submit]").prop("disabled",!0);var n=$("#annualIncomeInpt").val(),i=$("[id$='postalCodeDrpdown']").val(),r=new TaxDTO(n,i);Tax.Calculator.Services.Post(`${t}/api/tax/addtaxresult`,JSON.stringify(r),function(n){$("input[type=submit]").prop("disabled",!1);$(".alert-display").css("display","block");$("#alertMessage").text(n.resultMessage);setTimeout(function(){$(".alert-display").css("display","none")},2e3)});!1}}),n}();